{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "required": [
      "claim_id",
      "place_of_service_code",
      "insurance",
      "patient",
      "organization",
      "rendering_provider",
      "service_lines"
    ],
    "properties": {
      "claim_id": {
        "type": "string"
      },
      "place_of_service_code": {
        "type": "integer"
      },
      "insurance": {
        "type": "object",
        "required": [
          "payer_id",
          "patient_member_id"
        ],
        "properties": {
          "payer_id": {
            "type": "string",
            "enum": ["medicare", "united_health_group", "anthem"],
            "description": "Must be one of the major US insurance payers"
          },
          "patient_member_id": {
            "type": "string"
          }
        }
      },
      "patient": {
        "type": "object",
        "required": [
          "first_name",
          "last_name",
          "gender",
          "dob"
        ],
        "properties": {
          "first_name": {
            "type": "string"
          },
          "last_name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "gender": {
            "type": "string",
            "pattern": "^(m|f)$"
          },
          "dob": {
            "type": "string",
            "format": "date"
          },
          "address": {
            "type": "object",
            "properties": {
              "street": {
                "type": "string"
              },
              "city": {
                "type": "string"
              },
              "state": {
                "type": "string"
              },
              "zip": {
                "type": "string"
              },
              "country": {
                "type": "string"
              }
            }
          }
        }
      },
      "organization": {
        "type": "object",
        "required": ["name"],
        "properties": {
          "name": {
            "type": "string"
          },
          "billing_npi": {
            "type": "string"
          },
          "ein": {
            "type": "string"
          },
          "contact": {
            "type": "object",
            "properties": {
              "first_name": {
                "type": "string"
              },
              "last_name": {
                "type": "string"
              },
              "phone_number": {
                "type": "string"
              }
            }
          },
          "address": {
            "type": "object",
            "properties": {
              "street": {
                "type": "string"
              },
              "city": {
                "type": "string"
              },
              "state": {
                "type": "string"
              },
              "zip": {
                "type": "string"
              },
              "country": {
                "type": "string"
              }
            }
          }
        }
      },
      "rendering_provider": {
        "type": "object",
        "required": [
          "first_name",
          "last_name",
          "npi"
        ],
        "properties": {
          "first_name": {
            "type": "string"
          },
          "last_name": {
            "type": "string"
          },
          "npi": {
            "type": "string",
            "pattern": "^\\d{10}$"
          }
        }
      },
      "service_lines": {
        "type": "array",
        "items": {
          "type": "object",
          "required": [
            "service_line_id",
            "procedure_code",
            "units",
            "details",
            "unit_charge_currency",
            "unit_charge_amount"
          ],
          "properties": {
            "service_line_id": {
              "type": "string"
            },
            "procedure_code": {
              "type": "string"
            },
            "modifiers": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "units": {
              "type": "integer",
              "minimum": 1
            },
            "details": {
              "type": "string"
            },
            "unit_charge_currency": {
              "type": "string"
            },
            "unit_charge_amount": {
              "type": "number",
              "minimum": 0
            },
            "do_not_bill": {
              "type": "boolean"
            }
          }
        }
      }
    }
  }
  